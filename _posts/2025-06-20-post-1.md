---
layout: post
title: "Set up your own cloud with Nextcloud and Navidrome on an old laptop with Debian + XFCE / Monta tu propia nube con Nextcloud y Navidrome en un viejo ordenador con Debian + XFCE"
date: 2025-06-20
author: Damalga
comments: false
---

[üá¨üáß English](#en) | [üá™üá∏ Espa√±ol](#es)

---

<span id="en"></span>
## üá¨üáß English

### Introduction

This guide will walk you through converting an old laptop into a self-hosted cloud, featuring:

- **Nextcloud** (your own open-source Dropbox)
- **Navidrome** (your private Spotify)
- **Tailscale** (headache-free remote access)

### Requirements

- A laptop (in my case, an HP Elitebook from 2015)
- An external hard drive (I used a 4TB HDD)
- Debian 12 with XFCE desktop environment installed. This process should be similar on any Debian-based Linux distro. I went for plain Debian over Ubuntu or Tails for stability, and XFCE for being lightweight (my laptop is pretty old, so the less it has to process, the better).
- Internet connection.
- Willingness to tinker.

---

### Step 1: Install Debian 12 + XFCE

- Select XFCE as your desktop environment (light and functional).
- Partition the disk as needed (use expert mode if you feel brave).
- Create your user.

---

### Step 2: Plug in and mount the external hard drive

- Plug it in and create a permanent mount point:

```bash
sudo mkdir -p /mnt/nube
sudo blkid # Identify your disk's UUID
sudo nano /etc/fstab
# Add a line with the UUID, mount point, and filesystem type
```

---

### Step 3: Install and configure Nextcloud

#### Dependencies:

```bash
sudo apt update && sudo apt install apache2 mariadb-server libapache2-mod-php php php-mysql php-gd php-json php-curl php-mbstring php-xml php-zip unzip
```

#### Database:

```bash
sudo mysql -u root
CREATE DATABASE nextcloud;
CREATE USER 'nextclouduser'@'localhost' IDENTIFIED BY 'your_strong_password';
GRANT ALL PRIVILEGES ON nextcloud.* TO 'nextclouduser'@'localhost';
FLUSH PRIVILEGES;
EXIT;
```

#### Install Nextcloud:

```bash
cd /tmp
wget https://download.nextcloud.com/server/releases/latest.zip
unzip latest.zip
sudo mv nextcloud /var/www/
sudo chown -R www-data:www-data /var/www/nextcloud
```

#### Configure Apache:

```bash
sudo nano /etc/apache2/sites-available/nextcloud.conf
```

Content:

```
<VirtualHost *:80>
    DocumentRoot /var/www/nextcloud/
    ServerName localhost

    <Directory /var/www/nextcloud/>
        Require all granted
        AllowOverride All
        Options FollowSymLinks MultiViews
    </Directory>
</VirtualHost>
```

```bash
sudo a2ensite nextcloud.conf
sudo a2enmod rewrite headers env dir mime
sudo systemctl restart apache2
```

Now go to [http://localhost](http://localhost) and complete the graphic installation.

---

### Step 4: Add your Tailscale domain as a "trusted domain"

Edit the config file:

```bash
sudo nano /var/www/nextcloud/config/config.php
```

Add your Tailscale IP or domain to `trusted_domains`.

---

### Step 5: Install Tailscale

```bash
curl -fsSL https://tailscale.com/install.sh | sh
sudo tailscale up
```

Sign in with your account and note down the generated IP.

---

### Step 6: Install Navidrome

```bash
cd /opt
sudo wget https://github.com/navidrome/navidrome/releases/latest/download/navidrome_0.55.2_linux_amd64.tar.gz
sudo tar -xvzf navidrome_0.55.2_linux_amd64.tar.gz
sudo rm navidrome_0.55.2_linux_amd64.tar.gz
```

#### Create config file:

```bash
sudo nano /opt/navidrome/navidrome.toml
```

Basic content:

```
MusicFolder = "/mnt/nube/Music"
Port = "4533"
```

#### Create systemd service:

```bash
sudo nano /etc/systemd/system/navidrome.service
```

Content:

```
[Unit]
Description=Navidrome Music Server
After=network.target

[Service]
User=kasper8
ExecStart=/opt/navidrome/navidrome
Restart=on-failure

[Install]
WantedBy=multi-user.target
```

```bash
sudo systemctl daemon-reexec
sudo systemctl daemon-reload
sudo systemctl enable --now navidrome
```

Navidrome should now be available at [http://localhost:4533](http://localhost:4533) or via your Tailscale IP.

---

### Step 7: Use Symfonium on your mobile

- Download from F-Droid or Google Play
- Connect to your Tailscale IP: http://:4533
- Username and password as set up in Navidrome

---

### Done

You now have your private cloud and music streaming system running on a recycled machine. Spotify? Dropbox? No, thanks.

Enjoy digital independence!

---

<span id="es"></span>
## üá™üá∏ Espa√±ol

### Introducci√≥n

Este documento es una gu√≠a para convertir un port√°til viejo en una nube autosuficiente, equipada con:

- **Nextcloud** (tu Dropbox libre)
- **Navidrome** (tu Spotify privado)
- **Tailscale** (conexi√≥n remota sin dolores de cabeza)

### Requisitos

- Un ordenador (en mi caso un port√°til HP Elitebook del 2015)
- Un disco duro externo (en mi caso un HDD 4TB)
- Debian 12 con entorno XFCE instalado. Seguramente el proceso sea el mismo con cualquier distribuci√≥n Linux basada en Debian. En mi caso us√© Debian directamente y no Ubuntu o Tails (por decir alguna), por su estabilidad y el entorno de escritorio XFCE por lo liviano, ya que mi port√°til es viejito as√≠ que cuanto menos tenga que procesar pues mejor.
- Conexi√≥n a Internet.
- Ganas de cacharrear.

---

### Paso 1: Instalar Debian 12 + XFCE

- Selecciona XFCE como entorno de escritorio (ligero y funcional).
- Particiona el disco seg√∫n necesidad (modo experto si te atreves).
- Crea tu usuario.

---

### Paso 2: Conectar y montar el disco duro externo

- Con√©ctalo y crea un punto de montaje permanente:

```bash
sudo mkdir -p /mnt/nube
sudo blkid # Identifica UUID del disco
sudo nano /etc/fstab
# A√±ade la l√≠nea con el UUID, punto de montaje y tipo de sistema de archivos
```

---

### Paso 3: Instalar y configurar Nextcloud

#### Dependencias:

```bash
sudo apt update && sudo apt install apache2 mariadb-server libapache2-mod-php php php-mysql php-gd php-json php-curl php-mbstring php-xml php-zip unzip
```

#### Base de datos:

```bash
sudo mysql -u root
CREATE DATABASE nextcloud;
CREATE USER 'nextclouduser'@'localhost' IDENTIFIED BY 'tu_contra_segura';
GRANT ALL PRIVILEGES ON nextcloud.* TO 'nextclouduser'@'localhost';
FLUSH PRIVILEGES;
EXIT;
```

#### Instalar Nextcloud:

```bash
cd /tmp
wget https://download.nextcloud.com/server/releases/latest.zip
unzip latest.zip
sudo mv nextcloud /var/www/
sudo chown -R www-data:www-data /var/www/nextcloud
```

#### Configurar Apache:

```bash
sudo nano /etc/apache2/sites-available/nextcloud.conf
```

Contenido:

```
<VirtualHost *:80>
    DocumentRoot /var/www/nextcloud/
    ServerName localhost

    <Directory /var/www/nextcloud/>
        Require all granted
        AllowOverride All
        Options FollowSymLinks MultiViews
    </Directory>
</VirtualHost>
```

```bash
sudo a2ensite nextcloud.conf
sudo a2enmod rewrite headers env dir mime
sudo systemctl restart apache2
```

Ahora entra a [http://localhost](http://localhost) y completa instalaci√≥n gr√°fica.

---

### Paso 4: A√±adir tu dominio Tailscale como "trusted domain"

Edita el archivo de configuraci√≥n:

```bash
sudo nano /var/www/nextcloud/config/config.php
```

Agrega tu IP Tailscale o dominio en `trusted_domains`

---

### Paso 5: Instalar Tailscale

```bash
curl -fsSL https://tailscale.com/install.sh | sh
sudo tailscale up
```

Inicia sesi√≥n con tu cuenta y apunta la IP generada.

---

### Paso 6: Instalar Navidrome

```bash
cd /opt
sudo wget https://github.com/navidrome/navidrome/releases/latest/download/navidrome_0.55.2_linux_amd64.tar.gz
sudo tar -xvzf navidrome_0.55.2_linux_amd64.tar.gz
sudo rm navidrome_0.55.2_linux_amd64.tar.gz
```

#### Crear archivo de configuraci√≥n:

```bash
sudo nano /opt/navidrome/navidrome.toml
```

Contenido b√°sico:

```
MusicFolder = "/mnt/nube/Music"
Port = "4533"
```

#### Crear servicio systemd:

```bash
sudo nano /etc/systemd/system/navidrome.service
```

Contenido:

```
[Unit]
Description=Navidrome Music Server
After=network.target

[Service]
User=kasper8
ExecStart=/opt/navidrome/navidrome
Restart=on-failure

[Install]
WantedBy=multi-user.target
```

```bash
sudo systemctl daemon-reexec
sudo systemctl daemon-reload
sudo systemctl enable --now navidrome
```

Navidrome deber√≠a estar disponible en [http://localhost:4533](http://localhost:4533) o a trav√©s de tu IP Tailscale.

---

### Paso 7: Usar Symfonium en el m√≥vil

- Descarga desde F-Droid o Google Play
- Con√©ctate a la IP Tailscale: http\://:4533
- Usuario y contrase√±a seg√∫n hayas definido en Navidrome

---

### Fin

Ya tienes nube privada y sistema de streaming de m√∫sica montado. Todo funcionando en una m√°quina reciclada. ¬øSpotify? ¬øDropbox? No, gracias.

¬°Disfruta la independencia digital!
